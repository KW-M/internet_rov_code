{"mappings":"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","sources":["src/js/gamepad-ui.js"],"sourcesContent":["var btnLabels = [\"button_1\",\n    \"button_2\",\n    \"button_3\",\n    \"button_4\",\n    \"shoulder_btn_front_left\",\n    \"shoulder_btn_front_right\",\n    \"shoulder_trigger_back_left\",\n    \"shoulder_trigger_back_right\",\n    \"select\",\n    \"start\",\n    \"stick_button_left\",\n    \"stick_button_right\",\n    \"d_pad_up\",\n    \"d_pad_down\",\n    \"d_pad_left\",\n    \"d_pad_right\"]\n\nconst gamepadUi = {\n    showGamepadsConnected: function (gamepads) {\n        document.getElementById(\"gamepad-connect-notice\").style.display = \"none\";\n        if (gamepads.length > 1) {\n            document.getElementById(\"too-many-gamepads-notice\").style.display = \"block\";\n        } else {\n            document.getElementById(\"too-many-gamepads-notice\").style.display = \"none\";\n        }\n        console.log(\"gamepads:\", gamepads)\n        if (gamepads[0] && gamepads[0].emulated == true) {\n            document.getElementById(\"onscreen-gamepad-left\").style.opacity = \"1\";\n            document.getElementById(\"onscreen-gamepad-right\").style.opacity = \"1\";\n        } else {\n            document.getElementById(\"onscreen-gamepad-left\").style.opacity = \"0.5\";\n            document.getElementById(\"onscreen-gamepad-right\").style.opacity = \"0.5\";\n        }\n    },\n\n    showNoGamepads: function () {\n        document.getElementById(\"gamepad-connect-notice\").style.display = \"block\";\n        document.getElementById(\"onscreen-gamepad-left\").style.opacity = \"1\";\n        document.getElementById(\"onscreen-gamepad-right\").style.opacity = \"1\";\n    },\n\n    showNotSupported: function () {\n        alert('Gamepad interface not supported, please use a more modern browser.');\n    },\n\n    handleGamepadVisualFeedbackAxisEvents: (axiesMaping, axisHoveredClass, axisMovedClass) => {\n        axiesMaping.forEach(function (axisMap, index) {\n            // if (axisValue > 0 || axisValue < 0) {\n            var thumbstick = axisMap.thumbStickElement;\n            var axisRange = axisMap.axisRange;\n            var xValue = axisMap.xValue || 0;\n            var yValue = axisMap.yValue || 0;\n            // thumbstick.classList.add(axisMovedClass);\n            thumbstick.style.transform = `rotateY(${-xValue * 30}deg) rotateX(${yValue * 30}deg) translate(${xValue * axisRange}px,${yValue * axisRange}px)`;\n            // thumbstick.style.transformOrigin = \"center\";\n            // } else {\n            //     // thumbstick.classList.remove(axisMovedClass);\n            // }\n        });\n    },\n\n    handleGamepadVisualFeedbackButtonEvents: (gamepadButtonStates, buttonHighlightElements, btnHoveredClass, btnPressedClass) => {\n        for (var btnIndx = 0; btnIndx < gamepadButtonStates.length; btnIndx++) {\n            var gpadButton = gamepadButtonStates[btnIndx];\n            var btnElem = buttonHighlightElements[btnIndx];\n            if (!gpadButton || !btnElem) continue;\n            // console.log(gpadButton, btnElem, btnHoveredClass, btnPressedClass)\n            if (gpadButton.touched) {\n                btnElem.classList.add(btnHoveredClass);\n            } else {\n                btnElem.classList.remove(btnHoveredClass);\n            }\n\n            if (gpadButton.pressed) {\n                btnElem.classList.add(btnPressedClass);\n            } else {\n                btnElem.classList.remove(btnPressedClass);\n            }\n        };\n    },\n\n    getButtonHighlightElements: () => {\n        return btnLabels.map(btnLabel => document.getElementById(btnLabel + \"_highlight\"));\n    }\n}\n\n\n// handleGamepadConnected: function (gamepadDevice) {\n//     // a new gamepad connected\n//     console.log('Gamepad Connected:', gamepadDevice);\n//     showToastMessage(\"Gamepad Connected: \" + gamepadDevice);\n// },\n\n// handleGamepadDisconnected: function (device) {\n//     // gamepad disconnected\n//     console.log('Gamepad Disconnected:', device);\n// },"],"names":[],"version":3,"file":"index.572cbf23.js.map","sourceRoot":"/__parcel_source_root/"}