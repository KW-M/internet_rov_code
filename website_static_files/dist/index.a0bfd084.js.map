{"mappings":"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","sources":["src/js/api.js"],"sourcesContent":["// this\nfunction makeJsonApiRequest(url) {\n    return fetch(url).then((response) => {\n        console.log(response)\n        return response.text()\n    }).then((responseText) => {\n        if (!responseText) {\n            throw Error(\"Got no response from rov\")\n        }\n        try {\n            responseObject = JSON.parse(responseText)\n        } catch (e) {\n            throw Error(\"Got invalid JSON from rov: \" + responseText)\n        }\n        if (responseObject['status'] != 'ok') {\n            throw Error(result['message'])\n        }\n        return responseObject\n    }).catch((e) => {\n        console.error(e)\n        showToastMessage(\"Click this message to view full error...\", () => {\n            window.open().document.write(e.toString())\n        })\n        showToastMessage(\"Error: \" + e.toString().substring(0, 60))\n        throw Error(e);\n    })\n}\n\nfunction makeJsonApiRequestThroughWebrtc(url) {\n    return alert(\"to be implemented\");\n    then((responseText) => {\n        if (!responseText) {\n            throw Error(\"Got no response from rov\")\n        }\n        try {\n            responseObject = JSON.parse(responseText)\n        } catch (e) {\n            throw Error(\"Got invalid JSON from rov: \" + responseText)\n        }\n        if (responseObject['status'] != 'ok') {\n            throw Error(result['message'])\n        }\n        return responseObject\n    }).catch((e) => {\n        console.error(e)\n        showToastMessage(\"Click this message to view full error...\", () => {\n            window.open().document.write(e.toString())\n        })\n        showToastMessage(\"Error: \" + e.toString().substring(0, 60))\n        throw Error(e);\n    })\n}\n\nfunction shutdownROV() {\n    if (confirm(\"Are you sure you want to shutdown the ROV? - The ROV will be on a different ngrok url when rebooted.\")) {\n        showToastMessage(\"Sending Shutdown Request...\")\n        makeJsonApiRequest(\"/uwsgi/shutdown\").then((result) => {\n            console.log(result)\n            showToastMessage(\"Please wait 20 seconds before unplugging\")\n            showToastMessage(\"ROV:\" + result['message'])\n        })\n    }\n}\n\nfunction rebootROV() {\n    if (confirm(\"Are you sure you want to reboot the ROV? - The ROV will be on a different ngrok url when rebooted.\")) {\n        showToastMessage(\"Sending Reboot Request...\")\n        makeJsonApiRequest(\"/uwsgi/reboot\").then((result) => {\n            console.log(result)\n            showToastMessage(\"Press Connect again in ~30 seconds\")\n            showToastMessage(\"ROV:\" + result['message'])\n        })\n    }\n}\n\nfunction restartROVServices() {\n    if (confirm(\"Are you sure you want to restart services? - The ROV may appear to stop responding and be on a different ngrok url when done.\")) {\n        window.open(\"/uwsgi/restart_services\")\n        // showToastMessage(\"Sending Service Restart Request (Please Wait)...\")\n        // makeJsonApiRequest(\"/uwsgi/restart_services\").then((result) => {\n        //     console.log(result)\n        //     showToastMessage(\"Click this message to view full output...\", () => {\n        //         window.open().document.write(result['message'] + \"|\" + (result['error'] || \"\"))\n        //     })\n        //     showToastMessage(\"ROV Services have Restarted...\")\n        // })\n    }\n}\n\nfunction rePullROVGithubCode() {\n    alert(\"Make sure to choose 'Restart ROV Services' from this menu after the pull completes to fully apply any code changes.\")\n    window.open(\"/uwsgi/pull_github_code\")\n    // .then((result) => {\n    //     console.log(result)\n    //     showToastMessage(\"Make sure to click restart ROV services in about 30 seconds\")\n    //     showToastMessage(\"Click this message to view full output...\", () => {\n    //         window.open().document.write(result['message'] + \" | \" + (result['error'] || \"\"))\n    //     })\n    //     showToastMessage(\"Code changes pulled from main branch...\")\n    // })\n}\n\nfunction enableWifi() {\n    showToastMessage(\"Sending Enable Wifi Command...\")\n    makeJsonApiRequest(\"/uwsgi/enable_wifi\").then((result) => {\n        showToastMessage(\"Done. Click to view full output...\", () => {\n            window.open().document.write(result['message'] + \" | \" + (result['error'] || \"\"))\n        })\n    })\n}\n\nfunction disableWifi() {\n    if (confirm(\"Are you sure you want to disable wifi? - Make sure you are connected via the teather or some other method.\")) {\n        showToastMessage(\"Sending Disable Wifi Command...\")\n        makeJsonApiRequest(\"/uwsgi/disable_wifi\").then((result) => {\n            showToastMessage(\"Done. Click to view full output...\", () => {\n                window.open().document.write(result['message'] + \" | \" + (result['error'] || \"\"))\n            })\n        })\n    }\n}\n\nfunction takePhoto() {\n    download(\"/uv4l_dashboard/stream/snapshot.jpeg\")\n}"],"names":[],"version":3,"file":"index.a0bfd084.js.map","sourceRoot":"/__parcel_source_root/"}